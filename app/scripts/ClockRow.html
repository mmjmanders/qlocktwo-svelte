<div>
  {{#each row as r, i}}
  <span class='{{ledClass(i, time, rowIndex)}}'>{{r}}</span>
  {{/each}}
</div>

<script>
  import find from 'lodash/find';
  import classNames from 'classnames';
  import Mappings from './Mappings';

  function ledClass(i, time, rowIndex) {
    const on = find(Mappings['it-is'], arr => arr[0] === rowIndex && arr[1] === i) !== undefined ||
      find(Mappings['minutes'][time.getMinutes() - (time.getMinutes() % 5)], arr => arr[0] === rowIndex && arr[1] === i) !== undefined ||
      find(Mappings['hours'][(time.getMinutes() < 35 ? time.getHours() : time.getHours() + 1) % 12], arr => arr[0] === rowIndex && arr[1] === i) !== undefined;

    return classNames({
      'on': on,
      'off': !on
    });
  }

  export default {
    data() {
      return {
        row: [],
        rowIndex: 0,
        time: new Date()
      };
    },
    helpers: {
      ledClass
    }
  }
</script>
